syntax = "proto3";

message ChatMessage {
    int32 user_id = 1;
    string content = 2;
}

message SetUserIdMessage {
    int32 user_id = 1;
}

message CommandMessage {
    enum CommandType {
        SET_USER_ID = 0;
    }
    CommandType command = 1;
    oneof params {
        SetUserIdMessage setUserId = 2;
    }
}

message PacketMessage {
    oneof payload {
        ChatMessage normal_msg = 1;
        CommandMessage command_msg = 2;
    }
}